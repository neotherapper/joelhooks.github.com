<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>TabPopUpButtonSkin.as</title>
<link rel="stylesheet" type="text/css" href="../../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">//  Copyright (C) 2003-2006 Adobe Macromedia Software LLC and its licensors.
</span><span class="ActionScriptComment">//  All Rights Reserved. The following is Source Code and is subject to all
</span><span class="ActionScriptComment">//  restrictions on such code as contained in the End User License Agreement
</span><span class="ActionScriptComment">//  accompanying this product.
</span><span class="ActionScriptComment">//
</span><span class="ActionScriptComment">////////////////////////////////////////////////////////////////////////////////
</span>
<span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">flexlib</span>.<span class="ActionScriptDefault_Text">skins</span>
<span class="ActionScriptBracket/Brace">{</span>

<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">display</span>.<span class="ActionScriptDefault_Text">DisplayObject</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">display</span>.<span class="ActionScriptDefault_Text">DisplayObjectContainer</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">display</span>.<span class="ActionScriptDefault_Text">GradientType</span>;

<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">containers</span>.<span class="ActionScriptDefault_Text">TabNavigator</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">EdgeMetrics</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">IFlexDisplayObject</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">UIComponent</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">mx_internal</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">skins</span>.<span class="ActionScriptDefault_Text">Border</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">skins</span>.<span class="ActionScriptDefault_Text">halo</span>.<span class="ActionScriptDefault_Text">HaloColors</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">skins</span>.<span class="ActionScriptDefault_Text">halo</span>.<span class="ActionScriptDefault_Text">PopUpIcon</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">styles</span>.<span class="ActionScriptDefault_Text">IStyleClient</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">styles</span>.<span class="ActionScriptDefault_Text">StyleManager</span>;
<span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptDefault_Text">ColorUtil</span>;



<span class="ActionScriptASDoc">/**
 * The skin for the PopUpMenuButton to the right of the tabs on
 * a SuperTabNavigator. Uses the base skin from the Tab.
 */</span>
<span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">TabPopUpButtonSkin</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">UIComponent</span>
<span class="ActionScriptBracket/Brace">{</span>
    <span class="ActionScriptComment">//include &quot;../../core/Version.as&quot;;
</span>
    <span class="ActionScriptComment">//--------------------------------------------------------------------------
</span>    <span class="ActionScriptComment">//
</span>    <span class="ActionScriptComment">//  Class variables
</span>    <span class="ActionScriptComment">//
</span>    <span class="ActionScriptComment">//--------------------------------------------------------------------------
</span>
    <span class="ActionScriptASDoc">/**
     *  @private
     */</span>
    <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cache</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">{}</span>;

    <span class="ActionScriptComment">//--------------------------------------------------------------------------
</span>    <span class="ActionScriptComment">//
</span>    <span class="ActionScriptComment">//  Class methods
</span>    <span class="ActionScriptComment">//
</span>    <span class="ActionScriptComment">//--------------------------------------------------------------------------
</span>
    <span class="ActionScriptASDoc">/**
     *  @private
     *  Several colors used for drawing are calculated from the base colors
     *  of the component (themeColor, borderColor and fillColors).
     *  Since these calculations can be a bit expensive,
     *  we calculate once per color set and cache the results.
     */</span>
    <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calcDerivedStyles</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">themeColor</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>,
                                              <span class="ActionScriptDefault_Text">borderColor</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>,
                                              <span class="ActionScriptDefault_Text">falseFillColor0</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>,
                                              <span class="ActionScriptDefault_Text">falseFillColor1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>,
                                              <span class="ActionScriptDefault_Text">fillColor0</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span>,
                                              <span class="ActionScriptDefault_Text">fillColor1</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">key</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">HaloColors</span>.<span class="ActionScriptDefault_Text">getCacheKey</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">themeColor</span>, <span class="ActionScriptDefault_Text">borderColor</span>,
                                                <span class="ActionScriptDefault_Text">falseFillColor0</span>,
                                                <span class="ActionScriptDefault_Text">falseFillColor1</span>,
                                                <span class="ActionScriptDefault_Text">fillColor0</span>, <span class="ActionScriptDefault_Text">fillColor1</span><span class="ActionScriptBracket/Brace">)</span>;
        
        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">cache</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">key</span><span class="ActionScriptBracket/Brace">])</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">o</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cache</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">key</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">{}</span>;

            <span class="ActionScriptComment">// Cross-component styles.
</span>            <span class="ActionScriptDefault_Text">HaloColors</span>.<span class="ActionScriptDefault_Text">addHaloColors</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">o</span>, <span class="ActionScriptDefault_Text">themeColor</span>, <span class="ActionScriptDefault_Text">fillColor0</span>, <span class="ActionScriptDefault_Text">fillColor1</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptComment">// Tab-specific styles.
</span>            <span class="ActionScriptDefault_Text">o</span>.<span class="ActionScriptDefault_Text">borderColorDrk1</span> <span class="ActionScriptOperator">=</span>
                <span class="ActionScriptDefault_Text">ColorUtil</span>.<span class="ActionScriptDefault_Text">adjustBrightness2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">borderColor</span>, 10<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">o</span>.<span class="ActionScriptDefault_Text">falseFillColorBright1</span> <span class="ActionScriptOperator">=</span>
                <span class="ActionScriptDefault_Text">ColorUtil</span>.<span class="ActionScriptDefault_Text">adjustBrightness</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">falseFillColor0</span>, 15<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">o</span>.<span class="ActionScriptDefault_Text">falseFillColorBright2</span> <span class="ActionScriptOperator">=</span>
                <span class="ActionScriptDefault_Text">ColorUtil</span>.<span class="ActionScriptDefault_Text">adjustBrightness</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">falseFillColor1</span>, 15<span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">cache</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">key</span><span class="ActionScriptBracket/Brace">]</span>;
    <span class="ActionScriptBracket/Brace">}</span>

    <span class="ActionScriptComment">//--------------------------------------------------------------------------
</span>    <span class="ActionScriptComment">//
</span>    <span class="ActionScriptComment">//  Constructor
</span>    <span class="ActionScriptComment">//
</span>    <span class="ActionScriptComment">//--------------------------------------------------------------------------
</span>
    <span class="ActionScriptASDoc">/**
     *  Constructor.
     */</span>
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">TabPopUpButtonSkin</span><span class="ActionScriptBracket/Brace">()</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">super</span><span class="ActionScriptBracket/Brace">()</span>;
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptComment">//--------------------------------------------------------------------------
</span>    <span class="ActionScriptComment">//
</span>    <span class="ActionScriptComment">//  Overridden properties
</span>    <span class="ActionScriptComment">//
</span>    <span class="ActionScriptComment">//--------------------------------------------------------------------------
</span>
    <span class="ActionScriptComment">//----------------------------------
</span>    <span class="ActionScriptComment">//  borderMetrics
</span>    <span class="ActionScriptComment">//----------------------------------
</span>
    <span class="ActionScriptASDoc">/**
     *  @private
     *  Storage for the borderMetrics property.
     */</span>
    <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_borderMetrics</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">EdgeMetrics</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">EdgeMetrics</span><span class="ActionScriptBracket/Brace">(</span>1, 1, 1, 1<span class="ActionScriptBracket/Brace">)</span>;

    <span class="ActionScriptASDoc">/**
     *  @private
     */</span>
    <span class="ActionScriptComment">/*
    override public function get borderMetrics():EdgeMetrics
    {
        return _borderMetrics;
    }*/</span>

    <span class="ActionScriptComment">//----------------------------------
</span>    <span class="ActionScriptComment">//  measuredWidth
</span>    <span class="ActionScriptComment">//----------------------------------
</span>    
    <span class="ActionScriptASDoc">/**
     *  @private
     */</span>
    <span class="ActionScriptReserved">override</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">measuredWidth</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">UIComponent</span>.<span class="ActionScriptDefault_Text">DEFAULT_MEASURED_MIN_WIDTH</span>;
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptComment">//----------------------------------
</span>    <span class="ActionScriptComment">//  measuredHeight
</span>    <span class="ActionScriptComment">//----------------------------------
</span>
    <span class="ActionScriptASDoc">/**
     *  @private
     */</span>
    <span class="ActionScriptReserved">override</span> <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">measuredHeight</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">UIComponent</span>.<span class="ActionScriptDefault_Text">DEFAULT_MEASURED_MIN_HEIGHT</span>;
    <span class="ActionScriptBracket/Brace">}</span>
    
    <span class="ActionScriptComment">//--------------------------------------------------------------------------
</span>    <span class="ActionScriptComment">//
</span>    <span class="ActionScriptComment">//  Overridden methods
</span>    <span class="ActionScriptComment">//
</span>    <span class="ActionScriptComment">//--------------------------------------------------------------------------
</span>
    <span class="ActionScriptASDoc">/**
     *  @private
     */</span>
    <span class="ActionScriptReserved">override</span> <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateDisplayList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">w</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">h</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">super</span>.<span class="ActionScriptDefault_Text">updateDisplayList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">w</span>, <span class="ActionScriptDefault_Text">h</span><span class="ActionScriptBracket/Brace">)</span>;

        <span class="ActionScriptComment">// User-defined styles.
</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">backgroundAlpha</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;backgroundAlpha&quot;</span><span class="ActionScriptBracket/Brace">)</span>;        
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">backgroundColor</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;backgroundColor&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">borderColor</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;borderColor&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cornerRadius</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;cornerRadius&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;fillAlphas&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;fillColors&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptDefault_Text">StyleManager</span>.<span class="ActionScriptDefault_Text">getColorNames</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">highlightAlphas</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;highlightAlphas&quot;</span><span class="ActionScriptBracket/Brace">)</span>;        
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">themeColor</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;themeColor&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
        
        <span class="ActionScriptComment">// Placehold styles stub.
</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">falseFillColors</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>; <span class="ActionScriptComment">/* of Number*/</span> <span class="ActionScriptComment">// added style prop
</span>        <span class="ActionScriptDefault_Text">falseFillColors</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ColorUtil</span>.<span class="ActionScriptDefault_Text">adjustBrightness2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptOperator">-</span>5<span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptDefault_Text">falseFillColors</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ColorUtil</span>.<span class="ActionScriptDefault_Text">adjustBrightness2</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptOperator">-</span>5<span class="ActionScriptBracket/Brace">)</span>;
        
        <span class="ActionScriptComment">// Derivative styles.
</span>        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">derStyles</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">calcDerivedStyles</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">themeColor</span>, <span class="ActionScriptDefault_Text">borderColor</span>,
                                                 <span class="ActionScriptDefault_Text">falseFillColors</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>,
                                                 <span class="ActionScriptDefault_Text">falseFillColors</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span>,
                                                 <span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">])</span>;
        
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawBottomLine</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span>
            <span class="ActionScriptDefault_Text">parent</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">&amp;&amp;</span>
            <span class="ActionScriptDefault_Text">parent</span>.<span class="ActionScriptDefault_Text">parent</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">&amp;&amp;</span>
            <span class="ActionScriptDefault_Text">parent</span>.<span class="ActionScriptDefault_Text">parent</span>.<span class="ActionScriptDefault_Text">parent</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">&amp;&amp;</span>
            <span class="ActionScriptDefault_Text">parent</span>.<span class="ActionScriptDefault_Text">parent</span>.<span class="ActionScriptDefault_Text">parent</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">TabNavigator</span> <span class="ActionScriptOperator">&amp;&amp;</span>
            <span class="ActionScriptDefault_Text">IStyleClient</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">parent</span>.<span class="ActionScriptDefault_Text">parent</span>.<span class="ActionScriptDefault_Text">parent</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;borderStyle&quot;</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptString">&quot;none&quot;</span>;
        
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cornerRadius2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">max</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cornerRadius</span> <span class="ActionScriptOperator">-</span> 2, 0<span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cr</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">tl</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">cornerRadius</span>, <span class="ActionScriptDefault_Text">tr</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">cornerRadius</span>, <span class="ActionScriptDefault_Text">bl</span><span class="ActionScriptOperator">:</span> 0, <span class="ActionScriptDefault_Text">br</span><span class="ActionScriptOperator">:</span> 0 <span class="ActionScriptBracket/Brace">}</span>;
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cr2</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">tl</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">cornerRadius2</span>, <span class="ActionScriptDefault_Text">tr</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">cornerRadius2</span>, <span class="ActionScriptDefault_Text">bl</span><span class="ActionScriptOperator">:</span> 0, <span class="ActionScriptDefault_Text">br</span><span class="ActionScriptOperator">:</span> 0 <span class="ActionScriptBracket/Brace">}</span>;



        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">popUpIcon</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">IFlexDisplayObject</span> <span class="ActionScriptOperator">=</span>
            <span class="ActionScriptDefault_Text">IFlexDisplayObject</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getChildByName</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;popUpIcon&quot;</span><span class="ActionScriptBracket/Brace">))</span>;
        
        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">popUpIcon</span><span class="ActionScriptBracket/Brace">)</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">popUpIconClass</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Class</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Class</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;popUpIcon&quot;</span><span class="ActionScriptBracket/Brace">))</span>;
            <span class="ActionScriptDefault_Text">popUpIcon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">popUpIconClass</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptDefault_Text">DisplayObject</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">popUpIcon</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;popUpIcon&quot;</span>;
            <span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(D</span><span class="ActionScriptDefault_Text">isplayObject</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">popUpIcon</span><span class="ActionScriptBracket/Brace">))</span>;
            <span class="ActionScriptDefault_Text">DisplayObject</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">popUpIcon</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;            
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">arrowButtonWidth</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">max</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;arrowButtonWidth&quot;</span><span class="ActionScriptBracket/Brace">)</span>,
                                               <span class="ActionScriptDefault_Text">popUpIcon</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">+</span> 3 <span class="ActionScriptOperator">+</span> 1<span class="ActionScriptBracket/Brace">)</span>;
        
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dividerPosX</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">arrowButtonWidth</span>;
        
        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">arrowColor</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptDefault_Text">x111111</span>;    

        <span class="ActionScriptDefault_Text">popUpIcon</span>.<span class="ActionScriptDefault_Text">move</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">arrowButtonWidth</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">popUpIcon</span>.<span class="ActionScriptDefault_Text">width</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">/</span> 2,
                       <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">popUpIcon</span>.<span class="ActionScriptDefault_Text">height</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">/</span> 2<span class="ActionScriptBracket/Brace">)</span>;
                       
                       
                       
        <span class="ActionScriptDefault_Text">graphics</span>.<span class="ActionScriptDefault_Text">clear</span><span class="ActionScriptBracket/Brace">()</span>;
        
        <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptBracket/Brace">)</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;upSkin&quot;</span><span class="ActionScriptOperator">:</span>
            <span class="ActionScriptBracket/Brace">{</span>
                   <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">upFillColors</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span>
                    <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">falseFillColors</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">falseFillColors</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">]</span>;
                   
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">upFillAlphas</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">]</span>;

                <span class="ActionScriptComment">// outer edge
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    0, 0, <span class="ActionScriptDefault_Text">w</span>, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 1, <span class="ActionScriptDefault_Text">cr</span>,
                    <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">derStyles</span>.<span class="ActionScriptDefault_Text">borderColorDrk1</span>, <span class="ActionScriptDefault_Text">borderColor</span><span class="ActionScriptBracket/Brace">]</span>, 1,
                    <span class="ActionScriptDefault_Text">verticalGradientMatrix</span><span class="ActionScriptBracket/Brace">(</span>0, 0, <span class="ActionScriptDefault_Text">w</span>, <span class="ActionScriptDefault_Text">h</span><span class="ActionScriptBracket/Brace">)</span>,
                    <span class="ActionScriptDefault_Text">GradientType</span>.<span class="ActionScriptDefault_Text">LINEAR</span>, <span class="ActionScriptReserved">null</span>, 
                    <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">:</span> 1, <span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">:</span> 1, <span class="ActionScriptDefault_Text">w</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">h</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">r</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">cr2</span> <span class="ActionScriptBracket/Brace">})</span>; 

                <span class="ActionScriptComment">// tab fill
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    1, 1, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">cr2</span>,
                    <span class="ActionScriptDefault_Text">upFillColors</span>, <span class="ActionScriptDefault_Text">upFillAlphas</span>,
                    <span class="ActionScriptDefault_Text">verticalGradientMatrix</span><span class="ActionScriptBracket/Brace">(</span>0, 2, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 6<span class="ActionScriptBracket/Brace">))</span>;
            
                <span class="ActionScriptComment">// tab highlight
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    1, 1, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">/</span> 2, <span class="ActionScriptDefault_Text">cr2</span>,
                    <span class="ActionScriptBracket/Brace">[</span> 0<span class="ActionScriptDefault_Text">xFFFFFF</span>, 0<span class="ActionScriptDefault_Text">xFFFFFF</span> <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">highlightAlphas</span>,
                    <span class="ActionScriptDefault_Text">verticalGradientMatrix</span><span class="ActionScriptBracket/Brace">(</span>1, 1, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">/</span> 2<span class="ActionScriptBracket/Brace">))</span>;

                <span class="ActionScriptComment">// tab bottom line
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawBottomLine</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                        0, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 1, <span class="ActionScriptDefault_Text">w</span>, 1, 0,
                        <span class="ActionScriptDefault_Text">borderColor</span>, <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">])</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptComment">// tab shadow    
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    0, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">w</span>, 1, 0,
                    0<span class="ActionScriptDefault_Text">x000000</span>, 0.09<span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">// tab shadow
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    0, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 3, <span class="ActionScriptDefault_Text">w</span>, 1, 0,
                    0<span class="ActionScriptDefault_Text">x000000</span>, 0.03<span class="ActionScriptBracket/Brace">)</span>;
    
                <span class="ActionScriptReserved">break</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;popUpOverSkin&quot;</span><span class="ActionScriptOperator">:</span>
            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;overSkin&quot;</span><span class="ActionScriptOperator">:</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">overFillColors</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fillColors</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 2<span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptDefault_Text">overFillColors</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">[</span>3<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">]</span>;
                <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptDefault_Text">overFillColors</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">]</span>;

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">overFillAlphas</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fillAlphas</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 2<span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptDefault_Text">overFillAlphas</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>3<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">]</span>;
                  <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptDefault_Text">overFillAlphas</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">]</span>;

                <span class="ActionScriptComment">// outer edge
</span>                
                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    0, 0, <span class="ActionScriptDefault_Text">w</span>, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 1, <span class="ActionScriptDefault_Text">cr</span>,
                    <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">themeColor</span>, <span class="ActionScriptDefault_Text">derStyles</span>.<span class="ActionScriptDefault_Text">themeColDrk2</span> <span class="ActionScriptBracket/Brace">]</span>, 1,
                    <span class="ActionScriptDefault_Text">verticalGradientMatrix</span><span class="ActionScriptBracket/Brace">(</span>0, 0, <span class="ActionScriptDefault_Text">w</span>, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 6<span class="ActionScriptBracket/Brace">)</span>,
                    <span class="ActionScriptDefault_Text">GradientType</span>.<span class="ActionScriptDefault_Text">LINEAR</span>, <span class="ActionScriptReserved">null</span>, 
                    <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">:</span> 1, <span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">:</span> 1, <span class="ActionScriptDefault_Text">w</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">h</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">r</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">cr2</span> <span class="ActionScriptBracket/Brace">})</span>;
                
                <span class="ActionScriptComment">// tab fill
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    1, 1, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">cr2</span>,
                    <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">derStyles</span>.<span class="ActionScriptDefault_Text">falseFillColorBright1</span>,
                      <span class="ActionScriptDefault_Text">derStyles</span>.<span class="ActionScriptDefault_Text">falseFillColorBright2</span> <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">overFillAlphas</span>,
                    <span class="ActionScriptDefault_Text">verticalGradientMatrix</span><span class="ActionScriptBracket/Brace">(</span>2, 2, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2<span class="ActionScriptBracket/Brace">))</span>;
            
                <span class="ActionScriptComment">// tab highlight
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    1, 1, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">/</span> 2, <span class="ActionScriptDefault_Text">cr2</span>,
                    <span class="ActionScriptBracket/Brace">[</span> 0<span class="ActionScriptDefault_Text">xFFFFFF</span>, 0<span class="ActionScriptDefault_Text">xFFFFFF</span> <span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">highlightAlphas</span>,
                    <span class="ActionScriptDefault_Text">verticalGradientMatrix</span><span class="ActionScriptBracket/Brace">(</span>1, 1, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">/</span> 2<span class="ActionScriptBracket/Brace">))</span>;

                <span class="ActionScriptComment">// tab bottom line
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawBottomLine</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                        0, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 1, <span class="ActionScriptDefault_Text">w</span>, 1, 0,
                        <span class="ActionScriptDefault_Text">borderColor</span>, <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">])</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptComment">// tab shadow    
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    0, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">w</span>, 1, 0,
                    0<span class="ActionScriptDefault_Text">x000000</span>, 0.09<span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">// tab shadow
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    0, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 3, <span class="ActionScriptDefault_Text">w</span>, 1, 0,
                    0<span class="ActionScriptDefault_Text">x000000</span>, 0.03<span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptReserved">break</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;disabledSkin&quot;</span><span class="ActionScriptOperator">:</span>
            <span class="ActionScriptBracket/Brace">{</span>
                   <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">disFillColors</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">fillColors</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">]</span>;

                   <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">disFillAlphas</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span>
                    <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">max</span><span class="ActionScriptBracket/Brace">(</span> 0, <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">-</span> 0.15<span class="ActionScriptBracket/Brace">)</span>,
                      <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">max</span><span class="ActionScriptBracket/Brace">(</span> 0, <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">-</span> 0.15<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">]</span>;
            
                <span class="ActionScriptComment">// outer edge
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    0, 0, <span class="ActionScriptDefault_Text">w</span>, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 1, <span class="ActionScriptDefault_Text">cr</span>,
                    <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">derStyles</span>.<span class="ActionScriptDefault_Text">borderColorDrk1</span>, <span class="ActionScriptDefault_Text">borderColor</span><span class="ActionScriptBracket/Brace">]</span>, 0.5,
                    <span class="ActionScriptDefault_Text">verticalGradientMatrix</span><span class="ActionScriptBracket/Brace">(</span>0, 0, <span class="ActionScriptDefault_Text">w</span>, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 6<span class="ActionScriptBracket/Brace">))</span>;
                
                <span class="ActionScriptComment">// tab fill
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    1, 1, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">cr2</span>,
                    <span class="ActionScriptDefault_Text">disFillColors</span>, <span class="ActionScriptDefault_Text">disFillAlphas</span>,
                    <span class="ActionScriptDefault_Text">verticalGradientMatrix</span><span class="ActionScriptBracket/Brace">(</span>0, 2, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2<span class="ActionScriptBracket/Brace">))</span>;
                
                <span class="ActionScriptComment">// tab bottom line
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawBottomLine</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                        0, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 1, <span class="ActionScriptDefault_Text">w</span>, 1, 0,
                        <span class="ActionScriptDefault_Text">borderColor</span>, <span class="ActionScriptDefault_Text">fillAlphas</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">])</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptComment">// tab shadow    
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    0, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">w</span>, 1, 0,
                    0<span class="ActionScriptDefault_Text">x000000</span>, 0.09<span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">// tab shadow
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    0, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 3, <span class="ActionScriptDefault_Text">w</span>, 1, 0,
                    0<span class="ActionScriptDefault_Text">x000000</span>, 0.03<span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptReserved">break</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;popUpDownSkin&quot;</span><span class="ActionScriptOperator">:</span>
            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;downSkin&quot;</span><span class="ActionScriptOperator">:</span>
            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;selectedUpSkin&quot;</span><span class="ActionScriptOperator">:</span>
            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;selectedDownSkin&quot;</span><span class="ActionScriptOperator">:</span>
            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;selectedOverSkin&quot;</span><span class="ActionScriptOperator">:</span>
            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">&quot;selectedDisabledSkin&quot;</span><span class="ActionScriptOperator">:</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isNaN</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">backgroundColor</span><span class="ActionScriptBracket/Brace">))</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptComment">// Walk the parent chain until we find a background color
</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">p</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">DisplayObjectContainer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">parent</span>;
                    
                    <span class="ActionScriptReserved">while</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">p</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">p</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">IStyleClient</span><span class="ActionScriptBracket/Brace">)</span>
                            <span class="ActionScriptDefault_Text">backgroundColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">IStyleClient</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">p</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">&quot;backgroundColor&quot;</span><span class="ActionScriptBracket/Brace">)</span>;
                        
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">isNaN</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">backgroundColor</span><span class="ActionScriptBracket/Brace">))</span>
                            <span class="ActionScriptReserved">break</span>;
                            
                        <span class="ActionScriptDefault_Text">p</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">p</span>.<span class="ActionScriptDefault_Text">parent</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    
                    <span class="ActionScriptComment">// Still no backgroundColor? Use white.
</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isNaN</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">backgroundColor</span><span class="ActionScriptBracket/Brace">))</span>
                        <span class="ActionScriptDefault_Text">backgroundColor</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptDefault_Text">xFFFFFF</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                 <span class="ActionScriptComment">// outer edge
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    0, 0, <span class="ActionScriptDefault_Text">w</span>, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 1, <span class="ActionScriptDefault_Text">cr</span>,
                    <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">derStyles</span>.<span class="ActionScriptDefault_Text">borderColorDrk1</span>, <span class="ActionScriptDefault_Text">borderColor</span><span class="ActionScriptBracket/Brace">]</span>, 1,
                    <span class="ActionScriptDefault_Text">verticalGradientMatrix</span><span class="ActionScriptBracket/Brace">(</span>0, 0, <span class="ActionScriptDefault_Text">w</span>, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2<span class="ActionScriptBracket/Brace">)</span>,
                    <span class="ActionScriptDefault_Text">GradientType</span>.<span class="ActionScriptDefault_Text">LINEAR</span>, <span class="ActionScriptReserved">null</span>, 
                    <span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">:</span> 1, <span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">:</span> 1, <span class="ActionScriptDefault_Text">w</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">h</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">r</span><span class="ActionScriptOperator">:</span> <span class="ActionScriptDefault_Text">cr2</span> <span class="ActionScriptBracket/Brace">})</span>;
            
                <span class="ActionScriptComment">// tab fill color
</span>                <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                    1, 1, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 2, <span class="ActionScriptDefault_Text">cr2</span>,
                    <span class="ActionScriptDefault_Text">backgroundColor</span>, <span class="ActionScriptDefault_Text">backgroundAlpha</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">// tab bottom line
</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawBottomLine</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">drawRoundRect</span><span class="ActionScriptBracket/Brace">(</span>
                        1, <span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">-</span> 1, <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">-</span> 2, 1, 0,
                        <span class="ActionScriptDefault_Text">backgroundColor</span>, <span class="ActionScriptDefault_Text">backgroundAlpha</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptReserved">break</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">popUpIcon</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">PopUpIcon</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptDefault_Text">PopUpIcon</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">popUpIcon</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">mx_internal</span><span class="ActionScriptOperator">::</span><span class="ActionScriptDefault_Text">arrowColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">arrowColor</span>;
    <span class="ActionScriptBracket/Brace">}</span>
    
    
<span class="ActionScriptBracket/Brace">}</span>

<span class="ActionScriptBracket/Brace">}</span>
</pre></body>
</html>
