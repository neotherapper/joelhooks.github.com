<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>MDIManager.as</title>
<link rel="stylesheet" type="text/css" href="../../../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptComment">/*
Copyright (c) 2007 FlexLib Contributors.  See:
    http://code.google.com/p/flexlib/wiki/ProjectContributors

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the &quot;Software&quot;), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/</span>


<span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">flexlib</span>.<span class="ActionScriptDefault_Text">mdi</span>.<span class="ActionScriptDefault_Text">managers</span>
<span class="ActionScriptBracket/Brace">{</span>
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">display</span>.<span class="ActionScriptDefault_Text">DisplayObject</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">ContextMenuEvent</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">Event</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">EventDispatcher</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">geom</span>.<span class="ActionScriptDefault_Text">Point</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">ui</span>.<span class="ActionScriptDefault_Text">ContextMenu</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">ui</span>.<span class="ActionScriptDefault_Text">ContextMenuItem</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptDefault_Text">Dictionary</span>;
    
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flexlib</span>.<span class="ActionScriptDefault_Text">mdi</span>.<span class="ActionScriptDefault_Text">containers</span>.<span class="ActionScriptDefault_Text">MDIWindow</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flexlib</span>.<span class="ActionScriptDefault_Text">mdi</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">IMDIEffectsDescriptor</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flexlib</span>.<span class="ActionScriptDefault_Text">mdi</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">MDIEffectsDescriptorBase</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flexlib</span>.<span class="ActionScriptDefault_Text">mdi</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">effectClasses</span>.<span class="ActionScriptDefault_Text">MDIGroupEffectItem</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flexlib</span>.<span class="ActionScriptDefault_Text">mdi</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">MDIEffectEvent</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flexlib</span>.<span class="ActionScriptDefault_Text">mdi</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">MDIManagerEvent</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flexlib</span>.<span class="ActionScriptDefault_Text">mdi</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">MDIWindowEvent</span>;
    
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">collections</span>.<span class="ActionScriptDefault_Text">ArrayCollection</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">Application</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">EventPriority</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">IFlexDisplayObject</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">core</span>.<span class="ActionScriptDefault_Text">UIComponent</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">CompositeEffect</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">Effect</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">effectClasses</span>.<span class="ActionScriptDefault_Text">CompositeEffectInstance</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">EffectEvent</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">events</span>.<span class="ActionScriptDefault_Text">ResizeEvent</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">managers</span>.<span class="ActionScriptDefault_Text">PopUpManager</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span>.<span class="ActionScriptDefault_Text">utils</span>.<span class="ActionScriptDefault_Text">ArrayUtil</span>;
    
    <span class="ActionScriptComment">//--------------------------------------
</span>    <span class="ActionScriptComment">//  Events
</span>    <span class="ActionScriptComment">//--------------------------------------
</span>    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when a window is added to the manager.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_ADD
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowAdd&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when the minimize button is clicked.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_MINIMIZE
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowMinimize&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  If the window is minimized, this event is dispatched when the titleBar is clicked. 
     *     If the window is maxmimized, this event is dispatched upon clicking the restore button
     *  or double clicking the titleBar.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_RESTORE
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowRestore&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when the maximize button is clicked or when the window is in a
     *  normal state (not minimized or maximized) and the titleBar is double clicked.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_MAXIMIZE
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowMaximize&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when the minimize button is clicked.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_CLOSE
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowClose&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when the window gains focus and is given topmost z-index of MDIManager&apos;s children.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_FOCUS_START
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowFocusStart&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when the window loses focus and no longer has topmost z-index of MDIManager&apos;s children.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_FOCUS_END
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowFocusEnd&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when the window begins being dragged.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_DRAG_START
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowDragStart&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched while the window is being dragged.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_DRAG
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowDrag&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when the window stops being dragged.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_DRAG_END
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowDragEnd&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when a resize handle is pressed.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_RESIZE_START
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowResizeStart&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched while the mouse is down on a resize handle.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_RESIZE
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowResize&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when the mouse is released from a resize handle.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.WINDOW_RESIZE_END
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;windowResizeEnd&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when the windows are cascaded.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.CASCADE
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;cascade&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when the windows are tiled.
     *
     *  @eventType flexlib.mdi.events.MDIManagerEvent.TILE
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;tile&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;flexlib.mdi.events.MDIManagerEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when an effect begins.
     *
     *  @eventType mx.events.EffectEvent.EFFECT_START
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;effectStart&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;mx.events.EffectEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     *  Dispatched when an effect ends.
     *
     *  @eventType mx.events.EffectEvent.EFFECT_END
     */</span>
    <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Event</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;effectEnd&quot;</span>, <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">&quot;mx.events.EffectEvent&quot;</span><span class="ActionScriptBracket/Brace">)]</span>
    
    <span class="ActionScriptASDoc">/**
     * Class responsible for applying effects and default behaviors to MDIWindow instances such as
     * tiling, cascading, minimizing, maximizing, etc.
     */</span>
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">MDIManager</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">EventDispatcher</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptASDoc">/**
         * Temporary storage location for use in dispatching MDIEffectEvents.
         * 
         * @private
         */</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mgrEventCollection</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ArrayCollection</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ArrayCollection</span><span class="ActionScriptBracket/Brace">()</span>;
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">globalMDIManager</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIManager</span>;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">global</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIManager</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManager</span>.<span class="ActionScriptDefault_Text">globalMDIManager</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">globalMDIManager</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIManager</span><span class="ActionScriptBracket/Brace">(A</span><span class="ActionScriptDefault_Text">pplication</span>.<span class="ActionScriptDefault_Text">application</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">UIComponent</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">globalMDIManager</span>.<span class="ActionScriptDefault_Text">isGlobal</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">MDIManager</span>.<span class="ActionScriptDefault_Text">globalMDIManager</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isGlobal</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Dictionary</span>;

        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tiledWindows</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ArrayCollection</span>;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tileMinimize</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tileMinimizeWidth</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 200;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">showMinimizedTiles</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tilePadding</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 8;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">minTilePadding</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 5;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">enforceBoundaries</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
        
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">effects</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">IMDIEffectsDescriptor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIEffectsDescriptorBase</span><span class="ActionScriptBracket/Brace">()</span>;
        
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CONTEXT_MENU_LABEL_TILE</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Tile&quot;</span>;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CONTEXT_MENU_LABEL_TILE_FILL</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Tile + Fill&quot;</span>;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CONTEXT_MENU_LABEL_CASCADE</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Cascade&quot;</span>;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">CONTEXT_MENU_LABEL_SHOW_ALL</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">&quot;Show All Windows&quot;</span>;
        
        <span class="ActionScriptASDoc">/**
         *   Constructor()
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">MDIManager</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">container</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UIComponent</span>, <span class="ActionScriptDefault_Text">effects</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">IMDIEffectsDescriptor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">container</span>;
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">effects</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">effects</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tileMinimize</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">tiledWindows</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ArrayCollection</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ResizeEvent</span>.<span class="ActionScriptDefault_Text">RESIZE</span>, <span class="ActionScriptDefault_Text">containerResizeHandler</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptComment">// map of window events to corresponding manager events
</span>            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">MINIMIZE</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_MINIMIZE</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESTORE</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESTORE</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">MAXIMIZE</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_MAXIMIZE</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">CLOSE</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_CLOSE</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">FOCUS_START</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_FOCUS_START</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">FOCUS_END</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_FOCUS_END</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG_START</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_DRAG_START</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_DRAG</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG_END</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_DRAG_END</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE_START</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESIZE_START</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESIZE</span>;
            <span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE_END</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESIZE_END</span>;
            
            <span class="ActionScriptComment">// these handlers execute default behaviors, these events are dispatched by this class
</span>            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_ADD</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_MINIMIZE</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESTORE</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_MAXIMIZE</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_CLOSE</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
                        
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_FOCUS_START</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_FOCUS_END</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_DRAG_START</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_DRAG</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_DRAG_END</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESIZE_START</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESIZE</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESIZE_END</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">CASCADE</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">TILE</span>, <span class="ActionScriptDefault_Text">executeDefaultBehavior</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_container</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UIComponent</span>;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">container</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UIComponent</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_container</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">container</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">UIComponent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">_container</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">value</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        

        <span class="ActionScriptASDoc">/**
         *  @private
         *  the managed window stack
         */</span>
         <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">windowList</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">()</span>;

        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">add</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">windowList</span>.<span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&lt;</span> 0<span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">windowManager</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;
                
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">addListeners</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">windowList</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">addContextMenu</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">isGlobal</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">PopUpManager</span>.<span class="ActionScriptDefault_Text">addPopUp</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span>,<span class="ActionScriptDefault_Text">Application</span>.<span class="ActionScriptDefault_Text">application</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">DisplayObject</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">position</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptComment">// to accomodate mxml impl
</span>                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">parent</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">position</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>         
                
                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_ADD</span>, <span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">))</span>;
                <span class="ActionScriptDefault_Text">bringToFront</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         *  Positions a window on the screen 
         *  
         *     &lt;p&gt;This is primarly used as the default space on the screen to position the window.&lt;/p&gt;
         * 
         *  @param window:MDIWindow Window to position
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">position</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>    
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">windowList</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">*</span> 30;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">windowList</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">*</span> 30;

            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">width</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">width</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 40;
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">height</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">height</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 40;     
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addContextMenu</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span>,<span class="ActionScriptDefault_Text">contextMenu</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ContextMenu</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptComment">// add default context menu 
</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">contextMenu</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">defaultContextMenu</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ContextMenu</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ContextMenu</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptDefault_Text">defaultContextMenu</span>.<span class="ActionScriptDefault_Text">hideBuiltInItems</span><span class="ActionScriptBracket/Brace">()</span>;
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">arrangeItem</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ContextMenuItem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ContextMenuItem</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ONTEXT_MENU_LABEL_TILE</span><span class="ActionScriptBracket/Brace">)</span>;
                      <span class="ActionScriptDefault_Text">arrangeItem</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ontextMenuEvent</span>.<span class="ActionScriptDefault_Text">MENU_ITEM_SELECT</span>, <span class="ActionScriptDefault_Text">menuItemSelectHandler</span><span class="ActionScriptBracket/Brace">)</span>;    
                      <span class="ActionScriptDefault_Text">defaultContextMenu</span>.<span class="ActionScriptDefault_Text">customItems</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">arrangeItem</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">arrangeFillItem</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ContextMenuItem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ContextMenuItem</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ONTEXT_MENU_LABEL_TILE_FILL</span><span class="ActionScriptBracket/Brace">)</span>;
                      <span class="ActionScriptDefault_Text">arrangeFillItem</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ontextMenuEvent</span>.<span class="ActionScriptDefault_Text">MENU_ITEM_SELECT</span>, <span class="ActionScriptDefault_Text">menuItemSelectHandler</span><span class="ActionScriptBracket/Brace">)</span>;      
                      <span class="ActionScriptDefault_Text">defaultContextMenu</span>.<span class="ActionScriptDefault_Text">customItems</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">arrangeFillItem</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cascadeItem</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ContextMenuItem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ContextMenuItem</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ONTEXT_MENU_LABEL_CASCADE</span><span class="ActionScriptBracket/Brace">)</span>;
                      <span class="ActionScriptDefault_Text">cascadeItem</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ontextMenuEvent</span>.<span class="ActionScriptDefault_Text">MENU_ITEM_SELECT</span>, <span class="ActionScriptDefault_Text">menuItemSelectHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                      <span class="ActionScriptDefault_Text">defaultContextMenu</span>.<span class="ActionScriptDefault_Text">customItems</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cascadeItem</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">showAllItem</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ContextMenuItem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ContextMenuItem</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ONTEXT_MENU_LABEL_SHOW_ALL</span><span class="ActionScriptBracket/Brace">)</span>;
                      <span class="ActionScriptDefault_Text">showAllItem</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ontextMenuEvent</span>.<span class="ActionScriptDefault_Text">MENU_ITEM_SELECT</span>, <span class="ActionScriptDefault_Text">menuItemSelectHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                      <span class="ActionScriptDefault_Text">defaultContextMenu</span>.<span class="ActionScriptDefault_Text">customItems</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">showAllItem</span><span class="ActionScriptBracket/Brace">)</span>;
                       
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">contextMenu</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">defaultContextMenu</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">else</span>
            <span class="ActionScriptBracket/Brace">{</span>    
                <span class="ActionScriptComment">// add passed in context menu
</span>                <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">contextMenu</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">contextMenu</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>    
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">menuItemSelectHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ContextMenuEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">win</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">contextMenuOwner</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MDIWindow</span>;
            <span class="ActionScriptReserved">switch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">target</span>.<span class="ActionScriptDefault_Text">caption</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>    
                <span class="ActionScriptReserved">case</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ONTEXT_MENU_LABEL_TILE</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tile</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">false</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tilePadding</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">break</span>;
                
                <span class="ActionScriptReserved">case</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ONTEXT_MENU_LABEL_TILE_FILL</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tile</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tilePadding</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">break</span>;
                
                <span class="ActionScriptReserved">case</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ONTEXT_MENU_LABEL_CASCADE</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">cascade</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptReserved">break</span>;
                
                <span class="ActionScriptReserved">case</span><span class="ActionScriptBracket/Brace">(C</span><span class="ActionScriptDefault_Text">ONTEXT_MENU_LABEL_SHOW_ALL</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">showAllWindows</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptReserved">break</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">isDefaultPrevented</span><span class="ActionScriptBracket/Brace">())</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">winEvent</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mgrEvent</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">windowToManagerEventMap</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">type</span><span class="ActionScriptBracket/Brace">]</span>, <span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptReserved">switch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">type</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">MINIMIZE</span><span class="ActionScriptOperator">:</span>
                        
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">saveStyle</span><span class="ActionScriptBracket/Brace">()</span>;
                        
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">maxTiles</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">floor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tileMinimizeWidth</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tilePadding</span><span class="ActionScriptBracket/Brace">))</span>;
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xPos</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getLeftOffsetPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">length</span>, <span class="ActionScriptDefault_Text">maxTiles</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tileMinimizeWidth</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">minTilePadding</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">yPos</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">getBottomTilePosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">length</span>, <span class="ActionScriptDefault_Text">maxTiles</span>, <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">minimizeHeight</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">minTilePadding</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">minimizePoint</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Point</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">xPos</span>, <span class="ActionScriptDefault_Text">yPos</span><span class="ActionScriptBracket/Brace">)</span>;
                        
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowMinimizeEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span>, <span class="ActionScriptDefault_Text">minimizePoint</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESTORE</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">restoreStyle</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowRestoreEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span>, <span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">savedWindowRect</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">MAXIMIZE</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">restoreStyle</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowMaximizeEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">CLOSE</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowCloseEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">FOCUS_START</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowFocusStartEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">FOCUS_END</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowFocusEndEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
        
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG_START</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowDragStartEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
        
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowDragEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
        
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG_END</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowDragEndEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE_START</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowResizeStartEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowResizeEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE_END</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowResizeEndEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">winEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>            
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">executeDefaultBehavior</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">isDefaultPrevented</span><span class="ActionScriptBracket/Brace">())</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mgrEvent</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>;
                
                <span class="ActionScriptReserved">switch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">type</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_ADD</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptComment">// get the effect here because this doesn&apos;t pass thru windowEventProxy()
</span>                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowAddEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_MINIMIZE</span><span class="ActionScriptOperator">:</span>                        
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EffectEvent</span>.<span class="ActionScriptDefault_Text">EFFECT_END</span>, <span class="ActionScriptDefault_Text">onMinimizeEffectEnd</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESTORE</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">removeTileInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_MAXIMIZE</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">removeTileInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getMaximizeWindowEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_CLOSE</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">removeTileInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EffectEvent</span>.<span class="ActionScriptDefault_Text">EFFECT_END</span>, <span class="ActionScriptDefault_Text">onCloseEffectEnd</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_FOCUS_START</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">hasFocus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">validateNow</span><span class="ActionScriptBracket/Brace">()</span>;
                        <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">setChildIndex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">numChildren</span> <span class="ActionScriptOperator">-</span> 1<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_FOCUS_END</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">hasFocus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">validateNow</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptComment">// no, nothing happens in these cases. but it might someday.
</span>                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_DRAG_START</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_DRAG</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_DRAG_END</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESIZE_START</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESIZE</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">WINDOW_RESIZE_END</span><span class="ActionScriptOperator">:</span>
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">CASCADE</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptComment">// get the effect here because this doesn&apos;t pass thru windowEventProxy()
</span>                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getCascadeEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effectItems</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                    
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">TILE</span><span class="ActionScriptOperator">:</span>
                        <span class="ActionScriptComment">// get the effect here because this doesn&apos;t pass thru windowEventProxy()
</span>                        <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getTileEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effectItems</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">break</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptComment">// add this event to collection for lookup in the effect handler
</span>                <span class="ActionScriptDefault_Text">mgrEventCollection</span>.<span class="ActionScriptDefault_Text">addItem</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">// listen for start and end of effect
</span>                <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EffectEvent</span>.<span class="ActionScriptDefault_Text">EFFECT_START</span>, <span class="ActionScriptDefault_Text">onMgrEffectEvent</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EffectEvent</span>.<span class="ActionScriptDefault_Text">EFFECT_END</span>, <span class="ActionScriptDefault_Text">onMgrEffectEvent</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span>.<span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         * Handler for start and end events of all effects initiated by MDIManager.
         * 
         * @param event
         */</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMgrEffectEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">EffectEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptComment">// iterate over stored events
</span>            <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mgrEvent</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">mgrEventCollection</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">// is this the manager event that corresponds to this effect?
</span>                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">effectInstance</span>.<span class="ActionScriptDefault_Text">effect</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptComment">// for group events (tile and cascade) event.window is null
</span>                    <span class="ActionScriptComment">// and we have to dig in a bit to get the window list
</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">windows</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">()</span>;
                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">windows</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">group</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIGroupEffectItem</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">effectItems</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">windows</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">group</span>.<span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptComment">// create and dispatch event
</span>                    <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIEffectEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">type</span>, <span class="ActionScriptDefault_Text">mgrEvent</span>.<span class="ActionScriptDefault_Text">type</span>, <span class="ActionScriptDefault_Text">windows</span><span class="ActionScriptBracket/Brace">))</span>;                    
                    
                    <span class="ActionScriptComment">// if the effect is over remove the manager event from collection
</span>                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">type</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">EffectEvent</span>.<span class="ActionScriptDefault_Text">EFFECT_END</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">mgrEventCollection</span>.<span class="ActionScriptDefault_Text">removeItemAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEventCollection</span>.<span class="ActionScriptDefault_Text">getItemIndex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mgrEvent</span><span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onMinimizeEffectEnd</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">EffectEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptComment">// if this was a composite effect (almost definitely is), we make sure a target was defined on it
</span>            <span class="ActionScriptComment">// since that is optional, we look in its first child if we don&apos;t find one
</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">targetWindow</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">effectInstance</span>.<span class="ActionScriptDefault_Text">target</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MDIWindow</span>;
            
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">targetWindow</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">effectInstance</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">CompositeEffectInstance</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">compEffect</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">CompositeEffect</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">effectInstance</span>.<span class="ActionScriptDefault_Text">effect</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">CompositeEffect</span>;
                <span class="ActionScriptDefault_Text">targetWindow</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Effect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">compEffect</span>.<span class="ActionScriptDefault_Text">children</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">])</span>.<span class="ActionScriptDefault_Text">target</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MDIWindow</span>;
            <span class="ActionScriptBracket/Brace">}</span>            
            
            <span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">addItem</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">targetWindow</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">reTileWindows</span><span class="ActionScriptBracket/Brace">()</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onCloseEffectEnd</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">EffectEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">remove</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>.<span class="ActionScriptDefault_Text">effectInstance</span>.<span class="ActionScriptDefault_Text">target</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
                
        
        <span class="ActionScriptASDoc">/**
         * Handles resizing of container to reposition elements
         * 
         *  @param event The ResizeEvent object from event dispatch
         * 
         * */</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">containerResizeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">ResizeEvent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>    
            <span class="ActionScriptComment">//repositions any minimized tiled windows to bottom left in their rows
</span>            <span class="ActionScriptDefault_Text">reTileWindows</span><span class="ActionScriptBracket/Brace">()</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        
        <span class="ActionScriptASDoc">/**
         * Gets the left placement of a tiled window
         * 
         *  @param tileIndex The index value of the current tile instance we&apos;re placing
         * 
         *  @param maxTiles The maximum number of tiles that can be placed horizontally across the container given the minimimum width of each tile
         * 
         *  @param minWinWidth The width of the window tile when minimized
         * 
         *  @param padding The padding accordance to place between minimized tile window instances
         * 
         * */</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getLeftOffsetPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tileIndex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>, <span class="ActionScriptDefault_Text">maxTiles</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>, <span class="ActionScriptDefault_Text">minWinWidth</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">padding</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tileModPos</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tileIndex</span> <span class="ActionScriptOperator">%</span> <span class="ActionScriptDefault_Text">maxTiles</span>;
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tileModPos</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">padding</span>;
            <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tileModPos</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">minWinWidth</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">tileModPos</span> <span class="ActionScriptOperator">+</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">padding</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        
        <span class="ActionScriptASDoc">/**
         * Gets the bottom placement of a tiled window
         * 
         *  @param maxTiles The maximum number of tiles that can be placed horizontally across the container given the minimimum width of each tile
         * 
         *  @param minWinHeight The height of the window tile instance when minimized -- probably the height of the titleBar instance of the Panel
         * 
         *     @param padding The padding accordance to place between minimized tile window instances
         * 
         * */</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getBottomTilePosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tileIndex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>, <span class="ActionScriptDefault_Text">maxTiles</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>, <span class="ActionScriptDefault_Text">minWindowHeight</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">padding</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">numRows</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">floor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tileIndex</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">maxTiles</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numRows</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">minWindowHeight</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">padding</span>;
            <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">numRows</span> <span class="ActionScriptOperator">+</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">minWindowHeight</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">numRows</span> <span class="ActionScriptOperator">+</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">padding</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        
        <span class="ActionScriptASDoc">/**
         * Gets the height accordance for tiled windows along bottom to be used in the maximizing of other windows -- leaves space at bottom of maximize height so tiled windows still show
         * 
         *  @param maxTiles The maximum number of tiles that can be placed horizontally across the container given the minimimum width of each tile
         * 
         *  @param minWinHeight The height of the window tile instance when minimized -- probably the height of the titleBar instance of the Panel
         * 
         *     @param padding The padding accordance to place between minimized tile window instances
         * 
         * */</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getBottomOffsetHeight</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">maxTiles</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>, <span class="ActionScriptDefault_Text">minWindowHeight</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>, <span class="ActionScriptDefault_Text">padding</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">numRows</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">ceil</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">maxTiles</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptComment">//if we have some rows get their combined heights... if not, return 0 so maximized window takes up full height of container
</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">!=</span> 0<span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">numRows</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">minWindowHeight</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">numRows</span> <span class="ActionScriptOperator">+</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">padding</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptReserved">return</span> 0;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         * Retiles the remaining minimized tile instances if one of them gets restored or maximized
         * 
         * */</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">reTileWindows</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">maxTiles</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">floor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tileMinimizeWidth</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tilePadding</span><span class="ActionScriptBracket/Brace">))</span>;
            
            <span class="ActionScriptComment">//we&apos;ve just removed/added a row from the tiles, so we tell any maximized windows to change their height
</span>            
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">%</span> <span class="ActionScriptDefault_Text">maxTiles</span> <span class="ActionScriptOperator">==</span> 0 <span class="ActionScriptOperator">||</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">-</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">%</span> <span class="ActionScriptDefault_Text">maxTiles</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">openWins</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getOpenWindowList</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">winIndex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">winIndex</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">openWins</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">winIndex</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">openWins</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">winIndex</span><span class="ActionScriptBracket/Brace">])</span>.<span class="ActionScriptDefault_Text">maximized</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptDefault_Text">getMaximizeWindowEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">openWins</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">winIndex</span><span class="ActionScriptBracket/Brace">]))</span>.<span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">currentWindow</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">getItemAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MDIWindow</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xPos</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getLeftOffsetPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span>, <span class="ActionScriptDefault_Text">maxTiles</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tileMinimizeWidth</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">minTilePadding</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">yPos</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">getBottomTilePosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span>, <span class="ActionScriptDefault_Text">maxTiles</span>, <span class="ActionScriptDefault_Text">currentWindow</span>.<span class="ActionScriptDefault_Text">minimizeHeight</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">minTilePadding</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">movePoint</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Point</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">xPos</span>, <span class="ActionScriptDefault_Text">yPos</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">reTileMinWindowsEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">currentWindow</span>, <span class="ActionScriptReserved">this</span>, <span class="ActionScriptDefault_Text">movePoint</span><span class="ActionScriptBracket/Brace">)</span>.<span class="ActionScriptDefault_Text">play</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>    
        <span class="ActionScriptBracket/Brace">}</span>
        
    
        
        <span class="ActionScriptASDoc">/**
         * Maximizing of Window
         * 
         * @param window MDIWindowinstance to maximize
         * 
         **/</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getMaximizeWindowEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Effect</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">maxTiles</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tileMinimizeWidth</span>;
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">showMinimizedTiles</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowMaximizeEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span>, <span class="ActionScriptDefault_Text">getBottomOffsetHeight</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">maxTiles</span>, <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">minimizeHeight</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">minTilePadding</span><span class="ActionScriptBracket/Brace">))</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">else</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">effects</span>.<span class="ActionScriptDefault_Text">getWindowMaximizeEffect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        

        
        <span class="ActionScriptASDoc">/**
         * Removes the closed window from the ArrayCollection of tiled windows
         * 
         *  @param event MDIWindowEvent instance containing even type and window instance that is being handled
         * 
         * */</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeTileInstance</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">getItemAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">removeItemAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">reTileWindows</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>


        
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addCenter</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">add</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">center</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        
        <span class="ActionScriptASDoc">/**
         * Brings a window to the front of the screen. 
         * 
         *  @param win Window to bring to front
         * */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">bringToFront</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">isGlobal</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">PopUpManager</span>.<span class="ActionScriptDefault_Text">bringToFront</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">IFlexDisplayObject</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">else</span>
            <span class="ActionScriptBracket/Brace">{</span>                
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">win</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">windowList</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">win</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptDefault_Text">window</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">win</span>.<span class="ActionScriptDefault_Text">hasFocus</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">win</span>.<span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">FOCUS_END</span>, <span class="ActionScriptDefault_Text">win</span><span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">win</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">window</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">hasFocus</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">win</span>.<span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIWindowEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">FOCUS_START</span>, <span class="ActionScriptDefault_Text">win</span><span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            
        <span class="ActionScriptBracket/Brace">}</span>
        
        
        <span class="ActionScriptASDoc">/**
         * Positions a window in the center of the available screen. 
         * 
         *  @param window:MDIWindow to center
         * */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">center</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">/</span> 2 <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">width</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">/</span> 2 <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">height</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         * Removes all windows from managed window stack; 
         * */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeAll</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>    
        
            <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">windowList</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">isGlobal</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">PopUpManager</span>.<span class="ActionScriptDefault_Text">removePopUp</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">IFlexDisplayObject</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">removeChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">removeListeners</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">windowList</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">()</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         *  @private
         * 
         *  Adds listeners 
         *  @param window:MDIWindow  
         */</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addListeners</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">MINIMIZE</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESTORE</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">MAXIMIZE</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">CLOSE</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">FOCUS_START</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">FOCUS_END</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG_START</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG_END</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE_START</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE_END</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span>, <span class="ActionScriptReserved">false</span>, <span class="ActionScriptDefault_Text">EventPriority</span>.<span class="ActionScriptDefault_Text">DEFAULT_HANDLER</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>


        <span class="ActionScriptASDoc">/**
         *  @private
         * 
         *  Removes listeners 
         *  @param window:MDIWindow 
         */</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeListeners</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">MINIMIZE</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESTORE</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">MAXIMIZE</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">CLOSE</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">FOCUS_START</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">FOCUS_END</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG_START</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">DRAG_END</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE_START</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;    
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindowEvent</span>.<span class="ActionScriptDefault_Text">RESIZE_END</span>, <span class="ActionScriptDefault_Text">windowEventProxy</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        
        
        
        <span class="ActionScriptASDoc">/**
         *  Removes a window instance from the managed window stack 
         *  @param window:MDIWindow Window to remove 
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">remove</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>    
            
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">index</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ArrayUtil</span>.<span class="ActionScriptDefault_Text">getItemIndex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">windowList</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptDefault_Text">windowList</span>.<span class="ActionScriptDefault_Text">splice</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">index</span>, 1<span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">isGlobal</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">PopUpManager</span>.<span class="ActionScriptDefault_Text">removePopUp</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">IFlexDisplayObject</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">else</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">removeChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptDefault_Text">removeListeners</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptComment">// set focus to newly-highest depth window
</span>            <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">numChildren</span> <span class="ActionScriptOperator">-</span> 1; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptOperator">-</span>1; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">--</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dObj</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">DisplayObject</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">getChildAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dObj</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">bringToFront</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dObj</span><span class="ActionScriptBracket/Brace">))</span>;
                    <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>                
        
        <span class="ActionScriptASDoc">/**
         * Pushes an existing window onto the managed window stack. 
         * 
         *  @param win Window:MDIWindow to push onto managed windows stack 
         * */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">manage</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>    
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">windowList</span>.<span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&lt;</span> 0<span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">windowList</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         *  Positions a window in an absolute position 
         * 
         *  @param win:MDIWindow Window to position
         * 
         *  @param x:int The x position of the window
         * 
         *  @param y:int The y position of the window 
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">absPos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span>,<span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span>,<span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span>;
            <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y</span>;        
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         * Gets a list of open windows for scenarios when only open windows need to be managed
         * 
         * @return Array
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getOpenWindowList</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span>
        <span class="ActionScriptBracket/Brace">{</span>    
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">array</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;
            <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">windowList</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(!</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">windowList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">])</span>.<span class="ActionScriptDefault_Text">minimized</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">array</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">windowList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">])</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">array</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         *  Tiles the window across the screen
         *  
         *  &lt;p&gt;By default, windows will be tiled to all the same size and use only the space they can accomodate.
         *  If you set fillAvailableSpace = true, tile will use all the space available to tile the windows with
         *  the windows being arranged by varying heights and widths. 
          *  &lt;/p&gt;
         * 
         *  @param fillAvailableSpace:Boolean Variable to determine whether to use the fill the entire available screen
         * 
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">tile</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fillAvailableSpace</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>,<span class="ActionScriptDefault_Text">gap</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>            
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">openWinList</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getOpenWindowList</span><span class="ActionScriptBracket/Brace">()</span>;
                
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">numWindows</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">openWinList</span>.<span class="ActionScriptDefault_Text">length</span>;
            
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numWindows</span> <span class="ActionScriptOperator">==</span> 1<span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">openWinList</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">])</span>.<span class="ActionScriptDefault_Text">maximizeRestore</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numWindows</span> <span class="ActionScriptOperator">&gt;</span> 1<span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sqrt</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">round</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">sqrt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numWindows</span><span class="ActionScriptBracket/Brace">))</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">numCols</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">ceil</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numWindows</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">sqrt</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">numRows</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span>.<span class="ActionScriptDefault_Text">ceil</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numWindows</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">numCols</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">col</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">row</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">availWidth</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">width</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">availHeight</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">height</span>
                
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">showMinimizedTiles</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptDefault_Text">availHeight</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">availHeight</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">getBottomOffsetHeight</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">length</span>, <span class="ActionScriptDefault_Text">openWinList</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>.<span class="ActionScriptDefault_Text">minimizeHeight</span>, <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">minTilePadding</span><span class="ActionScriptBracket/Brace">)</span>;
                    
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">targetWidth</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">availWidth</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">numCols</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">gap</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numCols</span> <span class="ActionScriptOperator">-</span> 1<span class="ActionScriptBracket/Brace">))</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">numCols</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">targetHeight</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">availHeight</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">numRows</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">gap</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numRows</span> <span class="ActionScriptOperator">-</span> 1<span class="ActionScriptBracket/Brace">))</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">numRows</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">effectItems</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;
                    
                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">openWinList</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">win</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">openWinList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>;
                    
                    <span class="ActionScriptDefault_Text">bringToFront</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">win</span><span class="ActionScriptBracket/Brace">)</span>
                    
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">item</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIGroupEffectItem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIGroupEffectItem</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">win</span><span class="ActionScriptBracket/Brace">)</span>;
                    
                    <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">widthTo</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">targetWidth</span>;
                    <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">heightTo</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">targetHeight</span>;

                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">%</span> <span class="ActionScriptDefault_Text">numCols</span> <span class="ActionScriptOperator">==</span> 0 <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">row</span><span class="ActionScriptOperator">++</span>;
                        <span class="ActionScriptDefault_Text">col</span> <span class="ActionScriptOperator">=</span> 0;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">col</span><span class="ActionScriptOperator">++</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
    
                    <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">moveTo</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">col</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">targetWidth</span><span class="ActionScriptBracket/Brace">)</span>, <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">row</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">targetHeight</span><span class="ActionScriptBracket/Brace">))</span>; 
            
                    <span class="ActionScriptComment">//pushing out by gap
</span>                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">col</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span> 
                        <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">moveTo</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">gap</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">col</span>;
                    
                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">row</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span> 
                        <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">moveTo</span>.<span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">gap</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">row</span>;
    
                    <span class="ActionScriptDefault_Text">effectItems</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">item</span><span class="ActionScriptBracket/Brace">)</span>;
    
                <span class="ActionScriptBracket/Brace">}</span>
                
    
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">col</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">numCols</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">fillAvailableSpace</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">numOrphans</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">numWindows</span> <span class="ActionScriptOperator">%</span> <span class="ActionScriptDefault_Text">numCols</span>;
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">orphanWidth</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">availWidth</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">numOrphans</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptBracket/Brace">((</span><span class="ActionScriptDefault_Text">gap</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numOrphans</span> <span class="ActionScriptOperator">-</span> 1<span class="ActionScriptBracket/Brace">))</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">numOrphans</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptComment">//var orphanWidth:Number = availWidth / numOrphans;
</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">orphanCount</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0
                    <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">numWindows</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">numOrphans</span>; <span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">numWindows</span>; <span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptComment">//var orphan:MDIWindow = openWinList[j];
</span>                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">orphan</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIGroupEffectItem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">effectItems</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span>;
                        
                        <span class="ActionScriptDefault_Text">orphan</span>.<span class="ActionScriptDefault_Text">widthTo</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">orphanWidth</span>;
                        <span class="ActionScriptComment">//orphan.window.width = orphanWidth;
</span>                        
                        <span class="ActionScriptDefault_Text">orphan</span>.<span class="ActionScriptDefault_Text">moveTo</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">numWindows</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">numOrphans</span><span class="ActionScriptBracket/Brace">))</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">orphanWidth</span>;
                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">orphanCount</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span> 
                            <span class="ActionScriptDefault_Text">orphan</span>.<span class="ActionScriptDefault_Text">moveTo</span>.<span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">gap</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">orphanCount</span>;
                        <span class="ActionScriptDefault_Text">orphanCount</span><span class="ActionScriptOperator">++</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span> 
                
                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">TILE</span>, <span class="ActionScriptReserved">null</span>, <span class="ActionScriptReserved">this</span>, <span class="ActionScriptReserved">null</span>, <span class="ActionScriptDefault_Text">effectItems</span><span class="ActionScriptBracket/Brace">))</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptComment">// set a min. width/height
</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">resize</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>        
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">w</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">*</span> .6;
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">h</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>.<span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">*</span> .6
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">width</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">w</span>;
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">h</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">height</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">h</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        
        
        <span class="ActionScriptASDoc">/**
         *  Cascades all managed windows from top left to bottom right 
         * 
         */</span>    
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">cascade</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">effectItems</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[]</span>;
            
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">windows</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getOpenWindowList</span><span class="ActionScriptBracket/Brace">()</span>;
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xIndex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">yIndex</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span>1;
            
            <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">windows</span>.<span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">windows</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">MDIWindow</span>;
                
                <span class="ActionScriptDefault_Text">bringToFront</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">item</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIGroupEffectItem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIGroupEffectItem</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">widthFrom</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">width</span>;
                <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">widthTo</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">*</span> .5;
                <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">heightFrom</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">height</span>;
                <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">heightTo</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">*</span> .5;
                
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">yIndex</span> <span class="ActionScriptOperator">*</span> 40 <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">heightTo</span> <span class="ActionScriptOperator">+</span> 25 <span class="ActionScriptOperator">&gt;=</span> <span class="ActionScriptDefault_Text">container</span>.<span class="ActionScriptDefault_Text">height</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">yIndex</span> <span class="ActionScriptOperator">=</span> 0;
                    <span class="ActionScriptDefault_Text">xIndex</span><span class="ActionScriptOperator">++</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">yIndex</span><span class="ActionScriptOperator">++</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">destX</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">xIndex</span> <span class="ActionScriptOperator">*</span> 40 <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">yIndex</span> <span class="ActionScriptOperator">*</span> 20;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">destY</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">yIndex</span> <span class="ActionScriptOperator">*</span> 40;
                <span class="ActionScriptDefault_Text">item</span>.<span class="ActionScriptDefault_Text">moveTo</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Point</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">destX</span>, <span class="ActionScriptDefault_Text">destY</span><span class="ActionScriptBracket/Brace">)</span>;
                    
                <span class="ActionScriptDefault_Text">effectItems</span>.<span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">item</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MDIManagerEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MDIManagerEvent</span>.<span class="ActionScriptDefault_Text">CASCADE</span>, <span class="ActionScriptReserved">null</span>, <span class="ActionScriptReserved">this</span>, <span class="ActionScriptReserved">null</span>, <span class="ActionScriptDefault_Text">effectItems</span><span class="ActionScriptBracket/Brace">))</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">showAllWindows</span><span class="ActionScriptBracket/Brace">()</span><span class="ActionScriptOperator">:</span><span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptComment">// this prevents retiling of windows yet to be unMinimized()
</span>            <span class="ActionScriptDefault_Text">tiledWindows</span>.<span class="ActionScriptDefault_Text">removeAll</span><span class="ActionScriptBracket/Brace">()</span>;            
            
            <span class="ActionScriptReserved">for</span> <span class="ActionScriptReserved">each</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">window</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">MDIWindow</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">windowList</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">minimized</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">window</span>.<span class="ActionScriptDefault_Text">unMinimize</span><span class="ActionScriptBracket/Brace">()</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>    
    <span class="ActionScriptBracket/Brace">}</span>
<span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
